(this.webpackJsonpmunim=this.webpackJsonpmunim||[]).push([[0],{350:function(e,t,n){},351:function(e,t,n){"use strict";n.r(t);var a=n(4),c=n(0),o=n.n(c),r=n(10),s=n.n(r),i=n(28),l=n(47),u=n(57),j=function(e,t){var n;switch(t.type){case"DELETE_TRANSACTION":return n=e.filter((function(e){return e.id!==t.payload})),localStorage.setItem("transactions",JSON.stringify(n)),n;case"DELETE_TRANSACTION_BY_INDEX":return e.length>=t.payload?(n=e.filter((function(e,n){return n!==t.payload-1})),localStorage.setItem("transactions",JSON.stringify(n)),n):e;case"ADD_TRANSACTION":return n=[t.payload].concat(Object(u.a)(e)),localStorage.setItem("transactions",JSON.stringify(n)),n;default:return e}},d=JSON.parse(localStorage.getItem("transactions"))||[],b=Object(c.createContext)(d),m=function(e){var t=e.children,n=Object(c.useReducer)(j,d),o=Object(l.a)(n,2),r=o[0],s=o[1],i=r.reduce((function(e,t){return"Expense"===t.type?e-t.amount:e+t.amount}),0);return Object(a.jsx)(b.Provider,{value:{transactions:r,balance:i,deleteTransaction:function(e){s({type:"DELETE_TRANSACTION",payload:e})},addTransaction:function(e){s({type:"ADD_TRANSACTION",payload:e})},deleteTransactionByIndex:function(e){s({type:"DELETE_TRANSACTION_BY_INDEX",payload:e})}},children:t})},p=n(403),O=n(432),f=n(95),x=n(421),h=n(398),y=n(400),g=n(401),v=n(35),C=n(170),N=n(395),T=Object(N.a)((function(){return{income:{borderBottom:"10px solid rgba(0, 255, 0, 0.5)"},expense:{borderBottom:"10px solid rgba(255, 0, 0, 0.5)"}}})),I=["#123123","#154731","#165f40","#16784f","#14915f","#10ac6e","#0bc77e","#04e38d","#00ff9d"],E=["#b50d12","#bf2f1f","#c9452c","#d3583a","#dc6a48","#e57c58","#ee8d68","#f79d79","#ffae8a","#cc474b","#f55b5f"],S=[{type:"Business",amount:0,color:I[0]},{type:"Investments",amount:0,color:I[1]},{type:"Extra income",amount:0,color:I[2]},{type:"Deposits",amount:0,color:I[3]},{type:"Lottery",amount:0,color:I[4]},{type:"Gifts",amount:0,color:I[5]},{type:"Salary",amount:0,color:I[6]},{type:"Savings",amount:0,color:I[7]},{type:"Rental income",amount:0,color:I[8]}],k=[{type:"Bills",amount:0,color:E[0]},{type:"Car",amount:0,color:E[1]},{type:"Clothes",amount:0,color:E[2]},{type:"Travel",amount:0,color:E[3]},{type:"Food",amount:0,color:E[4]},{type:"Shopping",amount:0,color:E[5]},{type:"House",amount:0,color:E[6]},{type:"Entertainment",amount:0,color:E[7]},{type:"Phone",amount:0,color:E[8]},{type:"Pets",amount:0,color:E[9]},{type:"Other",amount:0,color:E[10]}],D=function(e){S.forEach((function(e){return e.amount=0})),k.forEach((function(e){return e.amount=0}));var t=Object(c.useContext)(b).transactions.filter((function(t){return t.type===e})),n=t.reduce((function(e,t){return e+t.amount}),0),a="Income"===e?S:k;t.forEach((function(e){var t=a.find((function(t){return t.type===e.category}));t&&(t.amount+=e.amount)}));var o=a.filter((function(e){return e.amount>0})),r={datasets:[{data:o.map((function(e){return e.amount})),backgroundColor:o.map((function(e){return e.color}))}],labels:o.map((function(e){return e.type}))};return{filteredCategories:o,total:n,chartData:r}},A=function(e){var t=e.title,n=e.subheader,c=D(t),o=c.total,r=c.chartData,s=T();return Object(a.jsxs)(h.a,{className:"Income"===t?s.income:s.expense,children:[Object(a.jsx)(y.a,{title:t,subheader:n}),Object(a.jsxs)(g.a,{children:[Object(a.jsxs)(v.a,{variant:"h5",children:["Rs. ",o]}),Object(a.jsx)(C.Doughnut,{data:r})]})]})},B=n(416),w=Object(N.a)((function(e){return{media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},cartContent:{paddingTop:0},divider:{margin:"20px 0"}}})),_=n(11),R=n(404),F=n(428),L=n(422),P=n(409),J=n(430),H=n(410),M=n(143),W=n(425),Y=n(423),z=Object(N.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})),G=function(e){var t=e.snackbar,n=e.setSnackbar,c=z(),o=function(e,t){"clickaway"!==t&&n({open:!1,message:"",status:"success"})};return Object(a.jsx)("div",{className:c.root,children:Object(a.jsx)(W.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:t.open,autoHideDuration:6e3,onClose:o,children:Object(a.jsx)(Y.a,{onClose:o,severity:t.status,elevation:6,variant:"filled",children:t.message})})})},X=function(e){var t=new Date(e),n="".concat(t.getMonth()+1),a="".concat(t.getDate()),c=t.getFullYear();return n.length<2&&(n="0".concat(n)),a.length<2&&(a="0".concat(a)),[c,n,a].join("-")},U=Object(N.a)((function(){return{radioGroup:{display:"flex",justifyContent:"center",marginBottom:"-10px"},button:{marginTop:"20px"}}})),V={amount:"",category:"",type:"Income",date:X(new Date)},q=function(){var e=U(),t=Object(c.useContext)(b),n=t.addTransaction,r=t.deleteTransactionByIndex,s=Object(c.useState)(V),u=Object(l.a)(s,2),j=u[0],d=u[1],m=Object(c.useState)(0),O=Object(l.a)(m,2),f=O[0],x=O[1],h=Object(i.useSpeechContext)().segment,y=o.a.useState({open:!1,message:"",status:"success"}),g=Object(l.a)(y,2),C=g[0],N=g[1],T=function(){if(!Number.isNaN(Number(j.amount))&&j.date.includes("-")){if(S.map((function(e){return e.type})).includes(j.category))d(Object(_.a)(Object(_.a)({},j),{},{type:"Income"}));else{if(!k.map((function(e){return e.type})).includes(j.category))return;d(Object(_.a)(Object(_.a)({},j),{},{type:"Expense"}))}N({open:!0,message:"Transaction successfully created",status:"success"}),n(Object(_.a)(Object(_.a)({},j),{},{amount:Number(j.amount),id:Object(M.a)()})),d(V)}};Object(c.useEffect)((function(){if(h){if("add_expense"===h.intent.intent)d(Object(_.a)(Object(_.a)({},j),{},{type:"Expense"}));else if("add_income"===h.intent.intent)d(Object(_.a)(Object(_.a)({},j),{},{type:"Income"}));else{if(h.isFinal&&"create_transaction"===h.intent.intent)return T();if(h.isFinal&&"cancel_transaction"===h.intent.intent)return d(V);if(h.isFinal&&"delete_transaction"===h.intent.intent)return r(f),void N({open:!0,message:"Transaction successfully deleted",status:"success"})}h.entities.forEach((function(e){var t="".concat(e.value.charAt(0)).concat(e.value.slice(1).toLowerCase());switch(e.type){case"amount":console.log(e.value),d(Object(_.a)(Object(_.a)({},j),{},{amount:e.value}));break;case"category":S.map((function(e){return e.type})).includes(t)?d(Object(_.a)(Object(_.a)({},j),{},{type:"Income",category:t})):k.map((function(e){return e.type})).includes(t)&&d(Object(_.a)(Object(_.a)({},j),{},{type:"Expense",category:t}));break;case"type":console.log("type"),d(Object(_.a)(Object(_.a)({},j),{},{type:e.value}));break;case"futureDate":case"pastDate":d(Object(_.a)(Object(_.a)({},j),{},{date:e.value}));break;case"index":x(e.value)}})),h.isFinal&&j.amount&&j.category&&j.type&&j.date&&T()}}),[h]);var I="Income"===j.type?S:k;return Object(a.jsxs)(p.a,{container:!0,spacing:2,children:[Object(a.jsx)(G,{snackbar:C,setSnackbar:N}),Object(a.jsx)(p.a,{item:!0,xs:12,children:Object(a.jsx)(v.a,{align:"center",variant:"subtitle2",gutterBottom:!0,children:h?Object(a.jsx)("div",{className:"segment",children:h.words.map((function(e){return e.value})).join(" ")}):null})}),Object(a.jsx)(p.a,{item:!0,xs:6,children:Object(a.jsxs)(R.a,{fullWidth:!0,children:[Object(a.jsx)(F.a,{children:"Type"}),Object(a.jsxs)(L.a,{value:j.type,onChange:function(e){return d(Object(_.a)(Object(_.a)({},j),{},{type:e.target.value}))},children:[Object(a.jsx)(P.a,{value:"Income",children:"Income"}),Object(a.jsx)(P.a,{value:"Expense",children:"Expense"})]})]})}),Object(a.jsx)(p.a,{item:!0,xs:6,children:Object(a.jsxs)(R.a,{fullWidth:!0,children:[Object(a.jsx)(F.a,{children:"Category"}),Object(a.jsx)(L.a,{value:j.category,onChange:function(e){return d(Object(_.a)(Object(_.a)({},j),{},{category:e.target.value}))},children:I.map((function(e){return Object(a.jsx)(P.a,{value:e.type,children:e.type},e.type)}))})]})}),Object(a.jsx)(p.a,{item:!0,xs:6,children:Object(a.jsx)(J.a,{type:"number",label:"Amount",value:j.amount,onChange:function(e){return d(Object(_.a)(Object(_.a)({},j),{},{amount:e.target.value}))},fullWidth:!0})}),Object(a.jsx)(p.a,{item:!0,xs:6,children:Object(a.jsx)(J.a,{fullWidth:!0,label:"Date",type:"date",value:j.date,onChange:function(e){return d(Object(_.a)(Object(_.a)({},j),{},{date:X(e.target.value)}))}})}),Object(a.jsx)(H.a,{className:e.button,variant:"outlined",color:"primary",fullWidth:!0,onClick:T,children:"Create"})]})},K=n(408),Q=n(411),Z=n(355),$=n(412),ee=n(431),te=n(413),ne=n(414),ae=n(354),ce=n(415),oe=n(97),re=n(96),se=Object(N.a)((function(e){return{avatarIncome:{color:"#fff",backgroundColor:oe.a[500]},avatarExpense:{color:e.palette.getContrastText(re.a[500]),backgroundColor:re.a[500]},list:{maxHeight:"150px",overflow:"auto"}}})),ie=function(){var e=se(),t=Object(c.useContext)(b),n=t.transactions,o=t.deleteTransaction;return Object(a.jsx)(K.a,{dense:!1,className:e.list,children:n.map((function(t){return Object(a.jsx)(Q.a,{direction:"down",in:!0,mountOnEnter:!0,unmountOnExit:!0,children:Object(a.jsxs)(Z.a,{children:[Object(a.jsx)($.a,{children:Object(a.jsx)(ee.a,{className:"Income"===t.type?e.avatarIncome:e.avatarExpense,children:"\u20b9"})}),Object(a.jsx)(te.a,{primary:t.category,secondary:"Rs.".concat(t.amount," - ").concat(t.date)}),Object(a.jsx)(ne.a,{children:Object(a.jsx)(ae.a,{edge:"end","aria-label":"delete",onClick:function(){return o(t.id)},children:Object(a.jsx)(ce.a,{})})})]})},t.id)}))})},le=function(){return Object(a.jsxs)("div",{elevation:3,style:{textAlign:"center",padding:"0 10%"},children:["Try saying: ",Object(a.jsx)("br",{}),"Add income, amount 500, category salary, date 15 August"]})},ue=function(){var e=w(),t=Object(c.useContext)(b).balance;return Object(a.jsxs)(h.a,{className:e.root,children:[Object(a.jsx)(y.a,{title:"Munim",subheader:"The Expense Tracker that listens"}),Object(a.jsxs)(g.a,{children:[Object(a.jsxs)(v.a,{align:"center",variant:"h5",children:["Total Balance ",t," Rupee"]}),Object(a.jsx)(v.a,{variant:"subtitle1",style:{lineHeight:"1.5em",marginTop:"20px"},children:Object(a.jsx)(le,{})}),Object(a.jsx)(B.a,{className:e.divider}),Object(a.jsx)(q,{})]}),Object(a.jsx)(g.a,{className:e.cartContent,children:Object(a.jsx)(p.a,{container:!0,spacing:2,children:Object(a.jsx)(p.a,{item:!0,xs:12,children:Object(a.jsx)(ie,{})})})})]})},je=n(426),de=n(418),be=n(417),me=n(427),pe=n(419),Oe=n(420),fe=n(172),xe=n.n(fe),he=n(171),ye=n.n(he),ge=[{title:"Add a transaction",info:'"Add income, amount 500, category salary, date 15 june"'},{title:"Set a field",info:'"Set amount 500" or "Set date next Monday"'},{title:"Create a transaction",info:'"Create transaction"'},{title:"Delete an existing transaction",info:'"Delete transaction One"'},{title:"Clear all the fields",info:'"Clear transaction"'}],ve=Object(N.a)((function(e){return{dialogContent:{margin:"1em auto"},title:{"&>*":{display:"flex",alignItems:"center"}},happyFaceIcon:{marginLeft:"0.5em"},info:{fontStyle:"italic",color:"#606060"}}})),Ce=o.a.forwardRef((function(e,t){return Object(a.jsx)(Q.a,Object(_.a)({direction:"up",ref:t},e))}));function Ne(e){var t=e.open,n=e.setOpen,c=ve();return Object(a.jsxs)(je.a,{open:t,TransitionComponent:Ce,keepMounted:!0,onClose:function(){n(!1)},children:[Object(a.jsxs)(be.a,{className:c.title,children:["Some sample commands you can try",Object(a.jsx)(ye.a,{className:c.happyFaceIcon})]}),Object(a.jsx)(de.a,{className:c.dialogContent,children:ge.map((function(e,t){return Object(a.jsxs)(me.a,{children:[Object(a.jsx)(pe.a,{expandIcon:Object(a.jsx)(xe.a,{}),"aria-controls":"panel".concat(t,"a-content"),id:"panel".concat(t,"a-content"),children:Object(a.jsx)(v.a,{children:e.title})}),Object(a.jsx)(Oe.a,{children:Object(a.jsx)(v.a,{className:c.info,children:e.info})})]},t)}))})]})}var Te=n(27),Ie=Object(N.a)((function(e){return{desktop:Object(Te.a)({},e.breakpoints.up("sm"),{display:"none"}),mobile:Object(Te.a)({},e.breakpoints.down("sm"),{display:"none"}),main:Object(Te.a)({},e.breakpoints.up("sm"),{paddingBottom:"5%"}),last:Object(Te.a)({},e.breakpoints.down("sm"),{marginBottom:e.spacing(3),paddingBottom:"200px"}),grid:{"& > *":{margin:e.spacing(2)}},helpIcon:{position:"fixed",right:20,bottom:20,fontSize:"3rem",cursor:"pointer",color:"#76e874"}}})),Ee=function(){var e=Ie(),t=Object(c.useState)(!1),n=Object(l.a)(t,2),o=n[0],r=n[1],s=Object(i.useSpeechContext)().speechState,u=Object(c.useRef)(null);Object(c.useEffect)((function(){s===i.SpeechState.Recording&&u.current.scrollIntoView()}),[s]);return Object(a.jsxs)("div",{children:[Object(a.jsxs)(p.a,{className:e.grid,container:!0,spacing:0,alignItems:"center",justify:"center",style:{height:"100vh"},children:[Object(a.jsx)(p.a,{item:!0,xs:12,sm:4,className:e.mobile,children:Object(a.jsx)(A,{title:"Income"})}),Object(a.jsx)(p.a,{ref:u,item:!0,xs:12,sm:3,className:e.main,children:Object(a.jsx)(ue,{})}),Object(a.jsx)(p.a,{item:!0,xs:12,sm:4,className:e.desktop,children:Object(a.jsx)(A,{title:"Income"})}),Object(a.jsx)(p.a,{item:!0,xs:12,sm:4,className:e.last,children:Object(a.jsx)(A,{title:"Expense"})}),Object(a.jsxs)(f.PushToTalkButtonContainer,{children:[Object(a.jsx)(f.PushToTalkButton,{}),Object(a.jsx)(f.ErrorPanel,{})]})]}),Object(a.jsx)(O.a,{title:"Help Me",placement:"top",className:e.tooltip,children:Object(a.jsx)(x.a,{className:e.helpIcon,onClick:function(){r(!o)}})}),Object(a.jsx)(Ne,{open:o,setOpen:r})]})};n(350);s.a.render(Object(a.jsx)(i.SpeechProvider,{appId:"8b3c3629-1cba-4c3e-91b3-9416c19ac36a",language:"en-US",children:Object(a.jsx)(m,{children:Object(a.jsx)(Ee,{})})}),document.getElementById("root"))}},[[351,1,2]]]);
//# sourceMappingURL=main.051979ac.chunk.js.map